<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Htb on NergiganteS&#39;s Blog</title>
        <link>https://example.com/categories/htb/</link>
        <description>Recent content in Htb on NergiganteS&#39;s Blog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <copyright>Example Person</copyright>
        <lastBuildDate>Wed, 19 Mar 2025 14:07:55 +0800</lastBuildDate><atom:link href="https://example.com/categories/htb/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Seal</title>
        <link>https://example.com/htb/seal/</link>
        <pubDate>Wed, 19 Mar 2025 14:05:44 +0800</pubDate>
        
        <guid>https://example.com/htb/seal/</guid>
        <description>&lt;p&gt;å¤–ç½‘æ‰“ç‚¹&lt;/p&gt;
&lt;p&gt;ä¸‰æ¿æ–§&lt;/p&gt;
&lt;p&gt;å¼€äº†ä¸‰ä¸ªç«¯å£ 22ï¼Œ443ï¼Œ8080&lt;/p&gt;
&lt;p&gt;æœ‰åŸŸåæ‰«å­åŸŸåæ— æœ&lt;/p&gt;
&lt;p&gt;æ‰«ç›®å½•&lt;img src=&#34;https://cdn.nlark.com/yuque/0/2025/png/43055475/1742283637071-04444643-5fdb-48d0-9c12-e8f040aac419.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨è¦ä¹ˆå°±æ˜¯çœ‹ä¸äº†è¦ä¹ˆå°±æ˜¯è¦ç™»å½•ï¼Œçœ‹8080ç«¯å£&lt;/p&gt;
&lt;p&gt;åœ¨ä¸€ä¸ªå†å²ç‰ˆæœ¬é‡Œæ‰¾åˆ°äº†ç”¨æˆ·å¯†ç &lt;img src=&#34;https://cdn.nlark.com/yuque/0/2025/png/43055475/1742283686936-c77081ac-80f4-4d78-b8ff-6911a40223f4.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç™»å½•äº†ä¹‹å‰æ‰«401çš„ç›®å½•&lt;/p&gt;
&lt;p&gt;çœ‹/manger/status/allçœ‹ä¸åˆ°ç®¡ç†ç•Œé¢&lt;/p&gt;
&lt;p&gt;çœ‹ä¸€ä¸‹htmlçš„ä½†æ˜¯è·³åˆ°nginxäº†ã€‚ã€‚ã€‚ï¼ˆè¿™ä¸æ˜¯tomcatå—ï¼Ÿï¼‰&lt;/p&gt;
&lt;p&gt;ä¹‹åæœäº†ä¸‹è¿™æ˜¯ç”¨nginxåå‘ä»£ç†äº†tomcat&lt;/p&gt;
&lt;p&gt;ä¹‹åçœ‹äº†å…¶ä»–å¤§ä½¬çš„wp&lt;/p&gt;
&lt;p&gt;è¿™é‡Œå­˜åœ¨ä¸€ä¸ªç›®å½•ç©¿è¶Š&lt;/p&gt;
&lt;p&gt;å¤§ä½“å°±æ˜¯tomcatä¼šå°†&lt;code&gt;/..;/&lt;/code&gt;è§£ææˆä¼ ç»Ÿæ„ä¹‰ä¸Šçš„&lt;code&gt;/../&lt;/code&gt;ï¼Œè€Œnginxä¸ä¼šã€‚æ‰€ä»¥nginxæ”¾è¿‡äº†æœ¬è¯¥æ‹¦æˆªçš„URLè®¿é—®ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½è¿›å…¥æ§åˆ¶å°äº†ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-plain&#34; data-lang=&#34;plain&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Web servers and reverse proxies normalize the request path. For example, the path /image/../image/ is normalized to /images/ . When Apache Tomcat is used together with a reverse proxy such as nginx there is a nromalization inconsistency.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Tomcat will threat the sequence /..;/ as /../ and normalize the path while reverse proxies will not normalize this sequence and send it to Apache Tomcat as it is.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;This allows an attacker to access Apache Tomcat resources that are not normally accessible via the reverse proxy mapping.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;/manger/status/..;/htmlè¿›å…¥åˆ°ç®¡ç†åå°&lt;/p&gt;
&lt;p&gt;çœ‹åˆ°å¯ä»¥ä¸Šä¼ waræ–‡ä»¶ä¸Šä¼ ä¸€ä¸ªğŸæ‹¿åˆ°shell&lt;/p&gt;
&lt;h1 id=&#34;æƒé™æå‡&#34;&gt;æƒé™æå‡
&lt;/h1&gt;&lt;p&gt;æ‰¾äº†åŠå¤©æ‰¾åˆ°ä¸€ä¸ªrun.yml&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-plain&#34; data-lang=&#34;plain&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- hosts: localhost
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  tasks:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  - name: Copy Files
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    synchronize: src=https://example.com/var/lib/tomcat9/webapps/ROOT/admin/dashboard dest=/opt/backups/files copy_links=yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  - name: Server Backups
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    archive:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      path: /opt/backups/files/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      dest: &amp;#34;/opt/backups/archives/backup-{{ansible_date_time.date}}-{{ansible_date_time.time}}.gz&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  - name: Clean
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    file:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      state: absent
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      path: /opt/backups/files/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä»£ç è§£é‡Š&lt;/p&gt;
&lt;p&gt;synchronizeæ¨¡å—ï¼šå…¶åŠŸèƒ½æ˜¯æŠŠæºç›®å½•/var/lib/tomcat9/webapps/ROOT/admin/dashboardå¤åˆ¶åˆ°ç›®æ ‡ç›®å½•/opt/backups/filesï¼Œå¹¶ä¸”å¤åˆ¶ç¬¦å·é“¾æ¥ã€‚&lt;/p&gt;
&lt;p&gt;archiveæ¨¡å—ï¼šå°†/opt/backups/files/ç›®å½•æ‰“åŒ…æˆä¸€ä¸ªå‹ç¼©æ–‡ä»¶ï¼Œæ–‡ä»¶ååŒ…å«å½“å‰æ—¥æœŸå’Œæ—¶é—´ï¼Œå­˜äº/opt/backups/archives/ç›®å½•ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;fileæ¨¡å—ï¼šæŠŠ/opt/backups/files/ç›®å½•åˆ é™¤ã€‚&lt;/p&gt;
&lt;p&gt;å¼€å¯äº†copy_linksï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸€äº›å¥½ä¸œè¥¿è¿æ¥åˆ°/var/lib/tomcat9/webapps/ROOT/admin/dashboardç›®å½•ä¸‹ï¼Œç„¶åè®©è¿™ä¸ªè¿›ç¨‹æ‰“åŒ…ï¼Œä¹‹åæˆ‘ä»¬å†è§£å‹æ‹¿åˆ°ä¸œè¥¿&lt;/p&gt;
&lt;p&gt;æ­£å¥½æˆ‘ä»¬æœ‰åœ¨/var/lib/tomcat9/webapps/ROOT/admin/dashboard/uploadsä¸‹å†™çš„æƒé™&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.nlark.com/yuque/0/2025/png/43055475/1742284705743-0ec47bfd-fb39-4fc3-9c4d-5adf5f2e02bd.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ln -s /home/luis/.ssh/ /var/lib/tomcat9/webapps/ROOT/admin/dashboard/uploads/id_rsa
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç„¶åç­‰å¾…æˆ‘ä»¬çš„id_rsa&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.nlark.com/yuque/0/2025/png/43055475/1742285643706-336265e1-c307-4698-be7e-f65ba8102b4d.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;sshç™»å½•æ‹¿åˆ°user.txt&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.nlark.com/yuque/0/2025/png/43055475/1742285699452-423caaf4-6523-41c6-a649-a406a8d9a92d.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.nlark.com/yuque/0/2025/png/43055475/1742285736005-1dea12a7-7112-426a-b60c-1cd8eeb36cda.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Test</title>
        <link>https://example.com/htb/test/</link>
        <pubDate>Thu, 13 Mar 2025 11:49:13 +0800</pubDate>
        
        <guid>https://example.com/htb/test/</guid>
        <description></description>
        </item>
        
    </channel>
</rss>
